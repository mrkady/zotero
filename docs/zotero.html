<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mohamed R. Kady kady@bcm.edu">
<meta name="dcterms.date" content="2025-09-30">

<title>Introduction to Reference Management</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ff63373b1067ca6f91cf1456aa1f00a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="floating slimcontent quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul class="collapse">
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#activity-0-download-zotero" id="toc-activity-0-download-zotero" class="nav-link" data-scroll-target="#activity-0-download-zotero">Activity #0: Download Zotero</a></li>
  <li><a href="#activity-1-pre-survey-and-rationale" id="toc-activity-1-pre-survey-and-rationale" class="nav-link" data-scroll-target="#activity-1-pre-survey-and-rationale">Activity #1: Pre-Survey and Rationale</a></li>
  <li><a href="#activity-2-importing-and-organizing-references" id="toc-activity-2-importing-and-organizing-references" class="nav-link" data-scroll-target="#activity-2-importing-and-organizing-references">Activity #2: Importing and Organizing References</a></li>
  <li><a href="#activity-3-annotating-and-note-taking" id="toc-activity-3-annotating-and-note-taking" class="nav-link" data-scroll-target="#activity-3-annotating-and-note-taking">Activity #3: Annotating and Note-Taking</a></li>
  <li><a href="#activity-4-custom-rss-feed" id="toc-activity-4-custom-rss-feed" class="nav-link" data-scroll-target="#activity-4-custom-rss-feed">Activity #4: Custom RSS Feed</a></li>
  <li><a href="#activity-5-post-survey-and-feedback" id="toc-activity-5-post-survey-and-feedback" class="nav-link" data-scroll-target="#activity-5-post-survey-and-feedback">Activity #5: Post-Survey and Feedback</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Reference Management</h1>
<p class="subtitle lead">(With Zotero)</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mohamed R. Kady<br>kady@bcm.edu </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 30, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">In brief</div>
    Follow through the prompts in this document in conjunction with the workshop instructions to get acquainted with what Zotero can do to make your research life easier. This document is meant to be used in conjunction with the in-person workshop, but can also be used independently and referenced back to later. The URL will remain live indefinitely. Follow along to exactly what is covered in the workshop or tackle some of the independent bonus exercises if you’d like.
  </div>
</div>


</header>


<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p>At the end of this workshop, and by extension this document, you will be able to:</p>
<ul>
<li>Summarize the utility of reference management for academic research.</li>
<li>Apply Zotero to:
<ul>
<li>Import references from the internet, PDFs, or PubMed.</li>
<li>Organize references with collections and tags.</li>
<li>Annotate references and take notes.</li>
</ul></li>
<li>Design a custom RSS feed in PubMed for keeping up to date with new literature.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>The flag system
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each table has colored index cards and a card holder to serve as <strong><em>flags</em></strong> to help me to gauge different groups’ progress. No flag means “no news, good news”, a <span style="color:goldenrod">yellow flag</span> means “we could use some help”, and a <span style="color:green">green flag</span> means “activity complete”. Criteria for a green flag are listed with each activity, and flags will be reset before each new activity.</p>
<p>I may also shuffle people around to different tables throughout the workshop.</p>
</div>
</div>
</section>
<section id="activity-0-download-zotero" class="level2">
<h2 class="anchored" data-anchor-id="activity-0-download-zotero">Activity #0: Download Zotero</h2>
<p>You will need a computer and to download <a href="https://www.zotero.org/download/">Zotero 7</a> (available for Windows, MacOS, and Linux). I recommend installing the Zotero Connector browser extension (available for Chrome, Firefox, Edge, and Safari) from the same page as well.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>If you have Zotero 6
</div>
</div>
<div class="callout-body-container callout-body">
<p>If your Zotero has this icon <img src="images/old-icon.png" height="20"> as opposed to this one <img src="images/new-icon.png" height="20">, you have an older version of Zotero (alternatively, check the version in Zotero by going to <em>Zotero</em> &gt; <em>About Zotero</em> in the menu bar). <strong>Even if you currently have Zotero 6 installed, I would still recommend that you install Zotero 7 for this workshop.</strong> Zotero 7 has <a href="https://www.zotero.org/blog/zotero-7/">many new features</a> that make it well worth the upgrade.</p>
</div>
</div>
</section>
<section id="activity-1-pre-survey-and-rationale" class="level2">
<h2 class="anchored" data-anchor-id="activity-1-pre-survey-and-rationale">Activity #1: Pre-Survey and Rationale</h2>
<p>Please fill out the pre-survey Google Form: <a href="https://forms.gle/SF9ePjJp4cyMdkxh7" class="uri">https://forms.gle/SF9ePjJp4cyMdkxh7</a></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Green flag criteria
</div>
</div>
<div class="callout-body-container callout-body">
<p>Raise the green flag when <em>everyone at your table</em> has:</p>
<ul>
<li>completed Activity #0 (installed Zotero)</li>
<li>completed Activity #1 (the pre-survey Google Form)</li>
<li>introduced themselves to each other</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>A bit about my rationale for this workshop (click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="what-is-and-why-zotero" class="level5">
<h5 class="anchored" data-anchor-id="what-is-and-why-zotero">What is (and why) Zotero?</h5>
<p>Zotero [zoh-TAIR-oh] is a free and open-source <em>reference management software</em>, a program which stores references (e.g., journal articles, book chapters) and can generate citations for them. There are many reference management softwares, EndNote and Mendeley being popular alternatives. I have used all of these. They all do much the same things, and references can be moved between them rather easily. The skills learned in this workshop largely apply to any of them.</p>
<p>So why <em>Zotero</em> specifically? Zotero is completely free, with no features locked behind a paywall. That makes it more accessible to you both now and in the future, whatever institutions your career takes you to. It’s also, in my opinion, the best one.</p>
</section>
<section id="why-use-a-reference-manager" class="level5">
<h5 class="anchored" data-anchor-id="why-use-a-reference-manager">Why use a reference manager?</h5>
<p>But why go through the effort of managing references at all? Reference managers are usually thought of as citation engines, but I think that is actually one of their less important features. Effective reference management can alleviate many of the hardships of interacting with the literature:</p>
<ul>
<li>Organizing papers by subject, keywords, read/unread status, etc.</li>
<li>Keeping PDFs of papers straight (and giving them decent names)</li>
<li>Taking notes, both in annotations to the PDFs themselves or in standalone notes</li>
<li>Staying abreast of newly published papers</li>
</ul>
<p>If you think of these softwares less like citation engines and more like your personal library of literature, the literature becomes less of a daunting slog and more manageable and fun. I developed this workshop with the aim of introducing these other features of reference management beyond citation.</p>
</section>
</div>
</div>
</div>
</section>
<section id="activity-2-importing-and-organizing-references" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="activity-2-importing-and-organizing-references">Activity #2: Importing and Organizing References</h2>
<div class="page-columns page-full"><p>The mission for this activity is to <strong>import</strong> references into Zotero from a variety of sources and <strong>organize</strong> them in case-dependent ways. Each case has its own quirks, but they all represent common use cases. Below you will find a basic Zotero orientation and some tips which apply to all the cases, followed by the 3 cases themselves. </p><div class="no-row-height column-margin column-container"><span class="">A more thorough overview of Zotero features can be found in its <a href="https://www.zotero.org/support/start">Documentation</a>.</span></div></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Basic Zotero Orientation
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you first boot up Zotero it will look something like this:</p>
<p><img src="images/intro.png" class="img-fluid"></p>
<p>The center pane is where your list of references will appear (once you have some). On the left is the <strong><em>Collections Pane</em></strong>, which shows the <strong><em>collections</em></strong> <img src="images/collection.png" height="20"> you create (which are a lot like folders in your file manager), as well as some default special collections (like “My Publications”). On the bottom left is the <em>Tag Selector</em>. <strong><em>Tags</em></strong> <img src="images/tags.png" height="20"> are a different way of categorizing references, more akin to keywords, although you can define and set your own. On the right is the <strong><em>Item Pane</em></strong>, which shows specific information about the reference selected.</p>
<p>The <strong><em>Add Item(s) by Identifier</em></strong> button <img src="images/add-by-identifier.png" height="20"> (magic wand at the top left of the center pane) is an easy way to add items without opening the web browser. If we enter, say, a DOI: <code>10.1016/j.cell.2011.02.013</code>, we will be greeted with a new item and an automatically attached PDF:</p>
<p><img src="images/hallmarks.png" class="img-fluid"></p>
<p>The DOI links to a 2011 review in <em>Cell</em> titled <em>Hallmarks of Cancer: The Next Generation</em>. The article is part of Cell Press’s Open Archive, so Zotero was able to fetch the full text PDF along with the rest of the bibliographic information. Selecting the item in the center pane will bring up the editable bibliographic info in the item pane to the right. Clicking the little arrow at the left of the item will reveal the attachments. Double-clicking on the item will open the PDF in another tab, right in Zotero!</p>
<section id="items-and-attachments" class="level5">
<h5 class="anchored" data-anchor-id="items-and-attachments">Items and Attachments</h5>
<p>Individual references in Zotero take the form of <strong><em>items</em></strong>. An item can have one of many types, e.g., journal article, book, book chapter, or preprint. An item can have any number of file <strong><em>attachments</em></strong>. While you can attach any type of file, Zotero is most agile with PDF and EPUB attachments, which can be opened and marked up within the program itself. The <strong><em>column headers</em></strong> of the center pane are customizable to your preference by right-clicking one of the headers. You could include, say, the year of publication or journal title as a column if you wanted to.</p>
</section>
<section id="collections-and-tags" class="level5">
<h5 class="anchored" data-anchor-id="collections-and-tags">Collections and Tags</h5>
<p>Zotero has two primary way of organizing items. <strong><em>Collections</em></strong> <img src="images/collection.png" height="20"> are a lot like folders on your computer; the only difference is that an item can be in any number of collections at once. This can be useful: you could file a reference under multiple subjects (e.g., “cancer”, “immunology”) as well by type (e.g., “reviews”) or something else (e.g., “to cite for 2025 paper”).</p>
<p>To create a collection, you can click the <strong><em>New Collection…</em></strong> icon <img src="images/add-collection.png" height="20"> at the top left of the Collections Pane. Collections can have sub-collections. To add an item to a collection, you can right-click on it and click <strong><em>Add to Collection</em></strong> or drag the item to the collection in the Collections Pane.</p>
<p><strong><em>Tags</em></strong> <img src="images/tags.png" height="20"> are much like tags anywhere else, short labels which often describe content in the form of keywords. You can click on tags in the Tag Selector to filter your library by those tags. Imports from PubMed and certain journal websites can bring with them keywords automatically. You can also manually add custom tags to an item by navigating to the <strong><em>Tags</em></strong> <img src="images/tags.png" height="20"> icon in the Item Pane.</p>
</section>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Case A: Importing from PDFs (click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p><em>You’re preparing for your QE and you’ve been sent a bunch of “very important literature” to review by your mentor in the form of email attachments. They are all PDFs of a range of topics and item types. Find a way to import them into Zotero (with their citation metadata) and organize them intelligently.</em></p>
</blockquote>
<p><a href="caseA.zip">Click here to download caseA.zip.</a></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Green flag criteria:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Raise the green flag when <em>everyone at your table</em> has:</p>
<ul>
<li>all 8 PDFs are in Zotero</li>
<li>they all have bibliographic data associated with them (a parent item)</li>
<li>at least some are in a collection and/or have a tag</li>
</ul>
</div>
</div>
<section id="tips-for-case-a" class="level4">
<h4 class="anchored" data-anchor-id="tips-for-case-a">Tips for Case A:</h4>
<p>Zotero is good at importing PDFs, and can often read in or acquire the metadata from the text within it. The simplest way to import PDFs is to drag them from your file manager to the center area. Alternatively, you can click the <strong><em>Add Attachment</em></strong> icon <img src="images/add-attachment.png" width="19" height="20"> at the top left of the center pane.</p>
<p>Zotero will <em>usually</em> be able to create a parent item with the appropriate metadata from the PDF, but not always. In this case, the attachment will not have a parent item, i.e., it will be “naked”, without any bibliographic data attached to it. In this case you will need to get the info from another source (like a website) or create an item with the appropriate data manually (the <strong><em>New Item</em></strong> icon <img src="images/add-item.png" width="19" height="20"> at the top left of the center pane). Dragging the attachment into that new item will pair it to that item.</p>
</section>
<section id="discussion-points" class="level4">
<h4 class="anchored" data-anchor-id="discussion-points">Discussion points:</h4>
<ul>
<li>Does Zotero automatically handle some types PDFs better than others?</li>
<li>What options might you try if a PDF does not import appropriately?</li>
<li>Are there other types of items which may be useful to have in a reference library besides journal articles?</li>
<li>Can you find where the PDFs added to Zotero live on your computer? Have they been renamed?</li>
</ul>
</section>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Case B: Importing from PubMed (click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p><em>You’re drafting a review and your PI has marked it up with many comments and track changes. In their comments they often mention papers your should reference, referred to only by their PubMed ID (PMID). Find a way to import them into Zotero (with their citation metadata) and organize them intelligently.</em></p>
</blockquote>
<p>The compiled PMIDs:</p>
<blockquote class="blockquote">
<p>24934519,<br>
25159158,<br>
25682101,<br>
25702159,<br>
25865002,<br>
26025621,<br>
26212266,<br>
26246354</p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Green flag criteria:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Raise the green flag when <em>everyone at your table</em> has:</p>
<ul>
<li>all 8 PDFs are in Zotero</li>
<li>they all have bibliographic data associated with them (a parent item)</li>
<li>at least some are in a collection and/or have a tag</li>
</ul>
</div>
</div>
<section id="tips-for-case-b" class="level4">
<h4 class="anchored" data-anchor-id="tips-for-case-b">Tips for Case B:</h4>
<p>Zotero is good at importing articles by identifiers like DOIs or, in this case, PMIDs. The <strong><em>Add Item(s) by Identifier</em></strong> icon <img src="images/add-by-identifier.png" width="19" height="20"> (magic wand at the top left of the center pane) is an easy way to add items by identifier. It can even handle multiple IDs at once.</p>
</section>
<section id="discussion-points-1" class="level4">
<h4 class="anchored" data-anchor-id="discussion-points-1">Discussion points:</h4>
<ul>
<li>Does Zotero import the PDF along with the metadata?</li>
<li>Are there any peculiarities of the metadata imported from PubMed?</li>
<li>If you have the Zotero Connector installed, try importing the same article again from PubMed online or the journal website itself. How similar is the metadata?</li>
</ul>
</section>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Case C: Importing from web links (click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p><em>You’re enjoying your Saturday when your PI sends you an email with no subject line or body text, just a bunch of URLs to some recently published journal articles. Find a way to import them into Zotero (with their citation metadata) and organize them intelligently.</em></p>
</blockquote>
<p>The compiled links:</p>
<blockquote class="blockquote">
<p><a href="https://www.biorxiv.org/content/10.1101/2025.09.09.673536v1" class="uri">https://www.biorxiv.org/content/10.1101/2025.09.09.673536v1</a><br>
<a href="https://www.annualreviews.org/content/journals/10.1146/annurev-immunol-042718-041210?utm_campaign=shareaholic&amp;utm_medium=email_this&amp;utm_source=email" class="uri">https://www.annualreviews.org/content/journals/10.1146/annurev-immunol-042718-041210</a><br>
<a href="https://www.frontiersin.org/journals/immunology/articles/10.3389/fimmu.2025.1607804/full" class="uri">https://www.frontiersin.org/journals/immunology/articles/10.3389/fimmu.2025.1607804/full</a><br>
<a href="https://academic.oup.com/gigascience/article/doi/10.1093/gigascience/giaf078/8232624?login=false&amp;utm_source=advanceaccess&amp;utm_campaign=gigascience&amp;utm_medium=email" class="uri">https://academic.oup.com/gigascience/article/doi/10.1093/gigascience/giaf078/8232624</a></p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Green flag criteria:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Raise the green flag when <em>everyone at your table</em> has:</p>
<ul>
<li>all 8 PDFs are in Zotero</li>
<li>they all have bibliographic data associated with them (a parent item)</li>
<li>at least some are in a collection and/or have a tag</li>
</ul>
</div>
</div>
<section id="tips-for-case-c" class="level4">
<h4 class="anchored" data-anchor-id="tips-for-case-c">Tips for Case C:</h4>
<p>Zotero imports from web links using a browser plugin called <strong><em>Zotero Connector</em></strong>, which you can install on the Zotero website along with the program itself. Connector uses scripts called <em>translators</em> to extract item metadata from a variety of websites. The translators generally work well on the sites where most biomedical research is published, including PubMed and those of Springer-Nature, ScienceDirect, Wiley, and many more.</p>
<p>Zotero Connector works best if you pin it to the toolbar of your browser. In its dormant state, the icon will look like this <img src="images/connector.png" class="img-fluid" width="20">, but when you navigate to a website pertaining to a reference which can be translated into Zotero, the icon will change depending on the item type, e.g., <img src="images/connector-paper.png" class="img-fluid" width="20"> for a journal article or <img src="images/connector-chapter.png" class="img-fluid" width="20"> for a book chapter. Seeing this icon change is a reliable indicator that the item will be imported correctly, and clicking it will add the icon to your library.</p>
<p>Zotero will <em>try</em> to add the PDF as well. In my experience, ensuring that you already have access to the article—say, though OpenAthens—<em>before</em> you click the icon is the best way to guarantee the PDF comes along. If that fails, you can download the PDF separately and attach it to the item imported through Connector.</p>
</section>
<section id="discussion-points-2" class="level4">
<h4 class="anchored" data-anchor-id="discussion-points-2">Discussion points:</h4>
<ul>
<li>Can you think of any websites or otherwise unconventional reference items you may want to reference?</li>
<li>What happens if you’re on a website with multiple reference items linked?</li>
<li>Can you add items to your library from Zotero Connector if Zotero isn’t open?</li>
</ul>
</section>
</div>
</div>
</div>
</section>
<section id="activity-2.5-10-minute-break" class="level2 unlisted">
<h2 class="unlisted anchored" data-anchor-id="activity-2.5-10-minute-break">Activity #2.5: 10 Minute Break</h2>
<p>🏖️</p>
</section>
<section id="activity-3-annotating-and-note-taking" class="level2">
<h2 class="anchored" data-anchor-id="activity-3-annotating-and-note-taking">Activity #3: Annotating and Note-Taking</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Zotero Orientation, Part 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>When an attachment is open in Zotero, the document can be viewed in the center pane, with the <strong><em>Sidebar</em></strong> on the left and the <strong><em>Context Pane</em></strong> on the right. Each can show different types of information.</p>
<p>Zotero allows you to add <strong><em>Annotations</em></strong> and mark up PDFs a lot like other PDF viewers. When a PDF is open, the tools for different forms of annotations sit above the PDF in the center pane:</p>
<p><img src="images/annotations-overview.png" class="img-fluid"></p>
<p>Clicking on the <strong><em>Toggle Sidebar</em></strong> icon <img src="images/sidebar.png" width="19" height="20"> at the top left and selecting the <strong><em>Show Annotations</em></strong> <img src="images/view-annotations.png" width="19" height="20"> options will show you an overview of all annotations in the document.</p>
<p>Where Zotero can exceed the capabilities of other PDF viewers is in the synergy between annotations and <strong><em>Notes</em></strong>. Notes are a special type of item that can exist by themselves (“standalone notes”) or belong to a specific item (“item notes”). To create an item note, select the <strong><em>Notes</em></strong> icon <img src="images/notes.png" width="19" height="20"> from the context menu on the right and click the + next to “Item Notes” &gt; <em>Add Item Note</em>:</p>
<p><img src="images/add-note.png" class="img-fluid"></p>
<p>Notes can contain free-form text as well as content from PDFs such as annotations. With an item note open, any text in the PDF can be selected and added to it by selecting it, right-clicking, and clicking <em>Add to Note</em>. Annotations can be added to notes by selecting them in the PDF or sidebar and clicking <em>Add to Note</em>. Content added to notes in this way will also link back to the content in the PDF itself:</p>
<p><img src="images/annotation-linking.png" class="img-fluid"></p>
<p>Any content from any PDF in your library can be added to any note, so the range of information you can combine with notes is extremely flexible. An item note may contain a series of annotations just from that item along with your own comments, summarizing the main takeaways. In contrast, a standalone note may synthesize content from many sources in a way that makes it easy to reference back to each individual article.</p>
</div>
</div>
</section>
<section id="activity-4-custom-rss-feed" class="level2">
<h2 class="anchored" data-anchor-id="activity-4-custom-rss-feed">Activity #4: Custom RSS Feed</h2>
<p>Imagine if you were, like me, really focused on one thing, like a species of bacteria called <em>L. reuteri</em>. You may decide that anytime a new paper mentions <em>L. reuteri</em>, you want to know about it. Or that every time your hopefully future-postdoc-lab publishes, you want to be the first to read it. Or that you want to at least read the title of each new review published in <em>Nature Reviews So-and-So</em>. Or any combination of the above. The “Create RSS” feature of PubMed gives you that power, and can integrate with Zotero itself.</p>
<p>This activity is more self-directed. The goal is to create a custom feed based on a PubMed search to help you stay up to date with newly published literature. There is no story problem for this part—it’s all up to you.</p>
<blockquote class="blockquote">
<p><em>Using the “Create RSS” feature of PubMed search, experiment until you generate a search that feels useful to you.</em></p>
</blockquote>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Green flag criteria:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Raise the green flag when <em>everyone at your table</em> has:</p>
<ul>
<li>an RSS feed imported into Zotero</li>
<li>they have read an abstract, opened a link, or added an item to their library from their feed</li>
<li>they feel the feed may be useful to their work</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Tips for Activity #4
</div>
</div>
<div class="callout-body-container callout-body">
<p>PubMed has different ways to update you of new search hits. It can send you an email every week, or you can create a custom <strong><em>RSS feed</em></strong> which integrates with another program. <a href="https://en.wikipedia.org/wiki/RSS">RSS</a> <img src="images/Feed-icon.svg" class="img-fluid" width="20"> is a standardized format for generating <em>web feeds</em>, kind of like a social media feed. You can add RSS feeds to Zotero similarly to adding an item. If the RSS feed is linked to a custom PubMed search you’ve created, Zotero will then contain a periodically updated feed of new PubMed entries which match that search, allowing you to browse the abstracts, access URLs, and even add them to your library without ever leaving Zotero. In my opinion, this close integration between where your literature lives and where it comes from makes browsing rather painless.</p>
<section id="steps-for-making-a-custom-rss-feed-from-pubmed" class="level5">
<h5 class="anchored" data-anchor-id="steps-for-making-a-custom-rss-feed-from-pubmed">Steps for making a custom RSS feed from PubMed</h5>
<ol type="1">
<li><p>Go to <a href="https://pubmed.ncbi.nlm.nih.gov/" class="uri">https://pubmed.ncbi.nlm.nih.gov/</a></p></li>
<li><p>Search something. Anything will do. The “Advanced” search option makes searching by a specific journal, author, or the like simpler; however, a generic keyword to start off is fine.</p></li>
<li><p>Click “Create RSS” under the search bar:<br>
<img src="images/create-rss.png" class="img-fluid"></p></li>
<li><p>Some options will appear. I recommend changing “number of items displayed” to 100, and then hitting “Create RSS”.</p></li>
<li><p>Copy the RSS feed link and return to Zotero.</p></li>
<li><p>On the menu bar, navigate to <em>File</em> &gt; <em>New Library</em> &gt; <em>New Feed</em> &gt; <em>From URL…</em></p></li>
<li><p>Paste the URL into the appropriate field. The title will automatically populate. I change the update frequency to “every 24 hours”, as the default “every 2 hours” feels excessive, but that’s just personal preference.<br>
<img src="images/add-rss.png" class="img-fluid"></p></li>
<li><p>Voila! There is now a new category in your Collections Pane, <strong><em>Feeds</em></strong> <img src="images/feeds.png" class="img-fluid" width="19">, which contains your custom feed <img src="images/feed.png" class="img-fluid" width="19">. Unread feed items appear in <strong>bold</strong>, and since the feed is brand new, it now contains up to 100 bolded items. Items can be marked as read in a few different ways, and as new search hits arise they will appear at the top of the list in bold. When an item in the feed is selected, the Item Pane lists all the info needed to judge whether an article is worth taking a closer look at, like the abstract, as well as links to the PubMed entry and the DOI.</p></li>
</ol>
<p><strong>The URL generated for the RSS feed is permanently tied to that search.</strong> To edit the feed, run a new search in PubMed with your edited parameters and generate a new link.</p>
</section>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>A word of warning: too many hits (click to expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If you are anything like me, your intellectual eyes are bigger than your stomach. Several feeds, each spawning dozens of new abstracts a day, is likely to result in fatigue; therefore, part of the art of generating an effective feed is appreciating the <em>volume of hits you will be receiving</em>. Thankfully, there is an easy way to check this in the redesigned PubMed interface.</p>
<p>In the current version of PubMed, the sidebar shows a histogram of search hits by year. Going back to my <em>L. reuteri</em> example, we can see there are 231 hits from the year 2024:</p>
<p><img src="images/bar-chart.png" class="img-fluid"></p>
<p>That means a bit less than 1 abstract a day—a manageable amount. In contrast, “lactobacillus” has 4,350 hits in 2024, while “limosilactobacillus reuteri” AND “bioengineering” has only 4. Experimenting till you hit a balance of topic specificity and hit volume will help make your feed more usable.</p>
</div>
</div>
</div>
</section>
<section id="activity-5-post-survey-and-feedback" class="level2">
<h2 class="anchored" data-anchor-id="activity-5-post-survey-and-feedback">Activity #5: Post-Survey and Feedback</h2>
<p>Once again, this workshop was designed so that by the end its participants would be able to:</p>
<ul>
<li>Summarize the utility of reference management for academic research.</li>
<li>Apply Zotero to:
<ul>
<li>Import references from the internet, PDFs, or PubMed.</li>
<li>Organize references with collections and tags.</li>
<li>Annotate references and take notes.</li>
</ul></li>
<li>Design a custom RSS feed in PubMed for keeping up to date with new literature.</li>
</ul>
<p>I hope you feel you are closer to these skills, and have picked up a trick or two to make your research career just a bit easier.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Exit criteria:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please fill out the Post-Survey Google Form before leaving: <a href="https://forms.gle/j89soBc9xDiCYPBQ8" class="uri">https://forms.gle/j89soBc9xDiCYPBQ8</a></p>
</div>
</div>
<p>Thanks for your attention and participation! Happy referencing!</p>
</section>
<section id="acknowledgements" class="level2 unlisted">
<h2 class="unlisted anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>This workshop was developed as a capstone project for the Biomedical Educator Certificate of Added Qualification (BE-CAQ) program of the Graduate School of Biomedical Sciences at Baylor College of Medicine. I sincerely thank Dr.&nbsp;Blank, Dr.&nbsp;Love, and Dr.&nbsp;Boedeker for their thoughtful instruction, my notes of which were referenced extensively in the preparation of this workshop. I also thank Dr.&nbsp;Wilson-Pham, Lloyd Bronner, and Chris Foster for their supreme patience and flexibility as I completed the program requirements.</p>
<p>The <a href="https://software-carpentry.org/lessons/index.html">Software Carpentry</a> workshops I attended at the University of Michigan, led by Dr.&nbsp;Schloss and others, as well as several Zotero-centric conversations with my friend Kevin Jiang, were other major sources of inspiration for the design of this workshop.</p>
</section>
<section id="activity-bonus-activities-for-overachievers-suggested-topics-for-further-exploration" class="level2 unlisted">
<h2 class="unlisted anchored" data-anchor-id="activity-bonus-activities-for-overachievers-suggested-topics-for-further-exploration">Activity #???: Bonus Activities for Overachievers &amp; Suggested Topics for Further Exploration</h2>
<p>What follows is a laundry list of other things Zotero is good before, beyond the scope of this workshop. Feel free to tackle them if you finish the activities early or later on your own.</p>
<section id="citing-items-in-microsoft-word" class="level3">
<h3 class="anchored" data-anchor-id="citing-items-in-microsoft-word">Citing items in Microsoft Word</h3>
<p>lorem ipsum</p>
</section>
<section id="creating-footnotes-in-powerpoint-with-quick-copy" class="level3">
<h3 class="anchored" data-anchor-id="creating-footnotes-in-powerpoint-with-quick-copy">Creating footnotes in PowerPoint with Quick Copy</h3>
<p>lorem ipsum</p>
</section>
<section id="more-granular-filtering-with-saved-searches" class="level3">
<h3 class="anchored" data-anchor-id="more-granular-filtering-with-saved-searches">More granular filtering with Saved Searches</h3>
<p>lorem ipsum</p>
</section>
<section id="custom-file-renaming" class="level3">
<h3 class="anchored" data-anchor-id="custom-file-renaming">Custom file renaming</h3>
<p>lorem ipsum</p>
</section>
<section id="finding-related-papers-with-research-rabbit" class="level3">
<h3 class="anchored" data-anchor-id="finding-related-papers-with-research-rabbit">Finding related papers with Research Rabbit</h3>
<p>lorem ipsum</p>
</section>
<section id="syncing-attachments-with-zotero-premium-or-other-cloud-storage" class="level3">
<h3 class="anchored" data-anchor-id="syncing-attachments-with-zotero-premium-or-other-cloud-storage">Syncing attachments with Zotero Premium (or other cloud storage)</h3>
<p>lorem ipsum</p>
</section>
<section id="more-elaborate-note-taking-with-obsidian" class="level3">
<h3 class="anchored" data-anchor-id="more-elaborate-note-taking-with-obsidian">More elaborate note-taking with Obsidian</h3>
<p>lorem ipsum</p>
</section>
<section id="hotkeyed-and-color-coded-custom-tags" class="level3">
<h3 class="anchored" data-anchor-id="hotkeyed-and-color-coded-custom-tags">Hotkeyed and color-coded custom tags</h3>
<p>lorem ipsum</p>
</section>
<section id="data-syncing-with-a-zotero-account" class="level3">
<h3 class="anchored" data-anchor-id="data-syncing-with-a-zotero-account">Data syncing with a Zotero account</h3>
<p>lorem ipsum</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>